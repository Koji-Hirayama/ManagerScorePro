# マネージャー評価・育成支援システム 仕様書

## 1. システム概要

### 1.1 目的
本システムは、マネージャーのスキル評価・育成支援のための分析ダッシュボードアプリケーションです。データベースと連携し、マネージャーのスキル評価データを収集・分析し、可視化および AI ベースの育成提案機能を提供します。

### 1.2 主要機能
- マネージャーのスキル評価データの収集と管理
- レーダーチャートによるスキル可視化
- 部門別グループ化システム
- AI ベースの育成提案機能
- カスタマイズ可能な評価指標管理
- 成長履歴トラッキング

## 2. システム構成

### 2.1 技術スタック
- フロントエンド/バックエンド: Streamlit
- データベース: PostgreSQL
- AI 機能: OpenAI API (GPT-4/3.5-turbo)
- データ可視化: Plotly
- ORM: SQLAlchemy
- マイグレーション: Alembic

### 2.2 データベース構造

#### 2.2.1 managers テーブル
- id: SERIAL PRIMARY KEY
- name: VARCHAR(100)
- department: VARCHAR(50)
- created_at: TIMESTAMP WITH TIME ZONE

#### 2.2.2 evaluations テーブル
- id: SERIAL PRIMARY KEY
- manager_id: INTEGER (FOREIGN KEY)
- evaluation_date: DATE
- communication_score: NUMERIC(3,1)
- support_score: NUMERIC(3,1)
- goal_management_score: NUMERIC(3,1)
- leadership_score: NUMERIC(3,1)
- problem_solving_score: NUMERIC(3,1)
- strategy_score: NUMERIC(3,1)

#### 2.2.3 evaluation_metrics テーブル
- id: SERIAL PRIMARY KEY
- name: VARCHAR(100)
- description: TEXT
- category: VARCHAR(20)
- weight: NUMERIC(3,1)
- is_active: BOOLEAN

#### 2.2.4 設定テーブル群
- ai_model_config: AI モデル設定
- cache_config: キャッシュ設定

## 3. 機能詳細

### 3.1 評価スコアリング
- 6つの主要評価軸
  - コミュニケーション・フィードバック
  - サポート・エンパワーメント
  - 目標管理・成果達成
  - リーダーシップ・意思決定
  - 問題解決力
  - 戦略・成長支援
- スコア範囲: 1.0 ～ 5.0
- 重み付け可能な評価システム

### 3.2 可視化機能
- レーダーチャートによるスキル分布表示
- 時系列での成長推移グラフ
- 部門別比較チャート
- カラーコードによるスコア表示

### 3.3 AI 提案システム
- GPT-4/3.5-turbo による自動提案生成
- 提案履歴管理
- 実装状況トラッキング
- 効果分析機能
- キャッシュシステムによる API 利用最適化

### 3.4 部門管理
- 部門別グループ化
- 部門間スキル比較
- 統計情報の可視化
- 部門ごとの目標設定

### 3.5 成長分析
- 時系列での成長率計算
- 成長推移の可視化
- 目標達成度トラッキング
- カスタム期間での分析

## 4. システム要件

### 4.1 パフォーマンス要件
- ページロード時間: 3秒以内
- 同時接続ユーザー数: 最大100名
- データベースレスポンス: 1秒以内

### 4.2 セキュリティ要件
- OpenAI API キーの安全な管理
- データベースアクセスの制限
- 評価データの整合性確保

### 4.3 可用性要件
- システム稼働時間: 24時間365日
- バックアップ: 日次
- データ保持期間: 5年

## 5. 拡張性と保守性

### 5.1 拡張可能な機能
- 評価指標の追加・カスタマイズ
- 新しい可視化方法の導入
- 外部システムとの連携

### 5.2 保守性への配慮
- モジュール化された設計
- 詳細なログ記録
- 設定の一元管理
- マイグレーションによるスキーマ管理

## 6. 制約事項と前提条件

### 6.1 技術的制約
- Streamlit の制約に準拠
- OpenAI API の利用制限への対応
- データベースの容量制限

### 6.2 前提条件
- PostgreSQL データベースの利用
- OpenAI API キーの設定
- Python 3.11 以上の実行環境

## 7. 開発・運用ガイドライン

### 7.1 開発環境
- Replit 上での開発
- Git によるバージョン管理
- Alembic によるマイグレーション管理

### 7.2 デプロイメント
- Replit でのホスティング
- 環境変数による設定管理
- ワークフローによる自動化

### 7.3 監視とメンテナンス
- ログによる動作監視
- パフォーマンスモニタリング
- 定期的なバックアップ
- キャッシュ管理
